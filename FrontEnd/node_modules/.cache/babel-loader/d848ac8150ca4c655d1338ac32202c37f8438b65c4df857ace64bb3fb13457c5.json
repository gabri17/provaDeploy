{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport logoLinkHome from '@/components/logoLinkHome';\nimport MenuProfilo from '@/components/menuProfilo';\nimport { mapState } from 'vuex';\nexport default {\n  data() {\n    return {\n      categories: [],\n      selectCat: this.$store.state.category,\n      filtri: false,\n      ordinaData: false,\n      ordinaRating: true,\n      ordinaPrezzo: false,\n      affitto: false,\n      vendita: false,\n      categoriaSelezionata: '',\n      keyword: '',\n      filterMin: 0,\n      filterMax: 0,\n      priceMax: 999999,\n      euro: new Intl.NumberFormat('en-DE', {\n        style: 'currency',\n        currency: 'EUR'\n      })\n    };\n  },\n  components: {\n    logoLinkHome,\n    MenuProfilo\n  },\n  methods: {\n    findMaxPrice() {\n      return Math.max.apply(Math, this.annunci.map(function (o) {\n        return o.prezzo;\n      }));\n    },\n    applicaFiltri() {\n      this.$store.state.annunci = this.$store.state.annunci.filter(function (o) {\n        console.log(this.filterMin);\n        var ok = true;\n        //if (!this.affitto && o.modalitaTransazione !== 'Affitto') ok = false\n        //if (!this.vendita && o.modalitaTransazione !== 'Vendita') ok = false\n        if (o.prezzo < this.filterMin) ok = false;\n        if (o.prezzo > this.filterMax) ok = false;\n        if (this.categoriaSelezionata !== '' && o.categoria !== this.categoriaSelezionata) ok = false;\n        return ok;\n      });\n    }\n  },\n  computed: mapState({\n    search: state => state.search,\n    username: state => state.username,\n    utenteLoggato: state => state.dataAuth.success,\n    cate: state => state.category,\n    annunci: state => state.annunci\n  }),\n  created() {\n    this.$categories.forEach(v => this.categories.push(v.title));\n    this.categoriaSelezionata = this.$store.state.category;\n    this.priceMax = this.findMaxPrice();\n  },\n  updated() {\n    this.priceMax = this.findMaxPrice();\n    if (this.filterMin > this.filterMax) {\n      this.filterMax = this.filterMin;\n    }\n  }\n};","map":{"version":3,"mappings":";AA2HA;AACA;AACA;AACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,MACA;QACAC;QACAC;MACA;IACA;EACA;EACAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MACA;QACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IAGA;EACA;EACAC;IACAC;IACAC;IACAC;IACAC;IACAC;EAEA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACA;IACA;MACA;IACA;EACA;AACA","names":["data","categories","selectCat","filtri","ordinaData","ordinaRating","ordinaPrezzo","affitto","vendita","categoriaSelezionata","keyword","filterMin","filterMax","priceMax","euro","style","currency","components","logoLinkHome","MenuProfilo","methods","findMaxPrice","applicaFiltri","console","computed","search","username","utenteLoggato","cate","annunci","created","updated"],"sourceRoot":"src/components","sources":["MyNavbar.vue"],"sourcesContent":["<template>\n    <nav>\n        <v-app-bar v-if=\"!this.$store.state.loginupForms\"\n        height=\"100\"\n        app\n        flat\n        class=\"primary\">\n        \n\n            <v-app-bar-nav-icon v-if=\"search==true\" @click=\"filtri=!filtri\" >  </v-app-bar-nav-icon>\n            <v-spacer v-if=\"search==true\" ></v-spacer>\n        \n            <v-toolbar-title mx-auto>\n                <logoLinkHome/>\n            </v-toolbar-title>\n\n            <v-spacer></v-spacer>\n            <router-link v-if=\"this.$store.state.dataAuth.success === false\" to=\"/userloginsignup\">\n                <v-btn \n                rounded \n                depressed \n                class=\"grey lighten-5 text-lowercase\">\n                <span>login or signup</span>\n                <v-icon>mdi-login</v-icon>\n            </v-btn>\n        </router-link>\n\n        <MenuProfilo v-if=\"this.$store.state.dataAuth.success === true\"/>\n\n    </v-app-bar>\n        <v-navigation-drawer v-if=\"search\" v-model=\"filtri\" app class =\"primary\" >\n            <h1 justify=\"center\" align=\"center\">FILTRI</h1>\n            <v-container>\n            <v-row dense>\n            \n                <v-spacer></v-spacer>\n                <v-text-field v-model=\"keyword\" class=\"d-inline-flex pa-2\" placeholder=\"ricerca\" filled dense\n                    rounded append-icon=\"mdi-magnify\" @keyup.enter=\"ricercakw\"></v-text-field>\n                <v-spacer></v-spacer>\n            </v-row>\n        </v-container>\n            <h4>Ordina per: </h4>\n            <v-list>\n          <v-list-item>\n            <v-list-item-action>\n              <v-switch\n                color=\"indigo\"\n                v-model=\"ordinaData\"\n                @click=\"ordinaRating=false; ordinaPrezzo=false\"\n              ></v-switch>\n            </v-list-item-action>\n            <v-list-item-title>data</v-list-item-title>\n          </v-list-item>\n\n          <v-list-item>\n            <v-list-item-action>\n              <v-switch\n                color=\"indigo\"\n                v-model=\"ordinaPrezzo\"\n                @click=\"ordinaRating=false; ordinaData=false\"\n              ></v-switch>\n            </v-list-item-action>\n            <v-list-item-title>prezzo</v-list-item-title>\n\n          </v-list-item>\n\n          <v-list-item>\n            <v-list-item-action>\n              <v-switch\n                color=\"indigo\"\n                v-model=\"ordinaRating\"\n                @click=\"ordinaPrezzo=false; ordinaData=false\"\n              ></v-switch>\n            </v-list-item-action>\n            <v-list-item-title>rating</v-list-item-title>\n          </v-list-item>\n        </v-list>\n          <v-select class=\"d-inline-flex pa-2\" filled dense rounded :items=\"categories\" :value=\"categoriaSelezionata\" @on-change=\"this.$store.commit('selectCat', this.localCat)\"\n          label=\"Categoria\" required v-model=\"categoriaSelezionata\"></v-select>\n\n            <v-slider\n            label=\"min\"\n            v-model=\"filterMin\"\n            min = \"0\"\n            :max=priceMax\n            color=\"indigo\"\n            >\n        </v-slider>\n\n        <v-slider\n            label=\"max\"\n            v-model=\"filterMax\"\n            min = \"0\"\n            :max=priceMax\n            color=\"indigo\"\n            >\n        </v-slider>\n        <div>\n            Prezzo min: {{ euro.format(filterMin) }}\n        </div>\n        <div>\n            Prezzo max: {{ euro.format(filterMax) }}\n        </div>\n        <v-container>\n            <v-checkbox\n            v-model=\"affitto\"\n            label=\"affitto\"\n            color=\"indigo\">\n            </v-checkbox>\n            <v-checkbox\n            v-model=\"vendita\"\n            label=\"vendita\"\n            color=\"indigo\">\n            </v-checkbox>\n        </v-container>\n    <v-spacer></v-spacer>\n    <v-btn block rounded @click=\"applicaFiltri\">Applica filtri</v-btn>          \n        </v-navigation-drawer>\n    </nav>\n</template>\n\n\n<script>\nimport logoLinkHome from '@/components/logoLinkHome'\nimport MenuProfilo from '@/components/menuProfilo';\nimport { mapState } from 'vuex';\nexport default {\n    data() {\n        return {\n            categories:[],\n            selectCat: this.$store.state.category,\n            filtri: false,\n            ordinaData: false,\n            ordinaRating: true,\n            ordinaPrezzo: false,\n            affitto: false,\n            vendita: false,\n            categoriaSelezionata: '',\n            keyword: '',\n            filterMin: 0,\n            filterMax: 0,\n            priceMax: 999999,\n            euro:  \n                 new Intl.NumberFormat('en-DE', {\n                     style: 'currency',\n                     currency: 'EUR',\n                 })\n        }\n    },    \n    components: { logoLinkHome, MenuProfilo },  \n    methods: {\n        findMaxPrice() {\n            return Math.max.apply(Math, this.annunci.map(function(o) { return o.prezzo; }))\n        },\n        applicaFiltri() {\n            this.$store.state.annunci = this.$store.state.annunci.filter(function(o) { \n                console.log(this.filterMin)\n                var ok = true;\n                //if (!this.affitto && o.modalitaTransazione !== 'Affitto') ok = false\n                //if (!this.vendita && o.modalitaTransazione !== 'Vendita') ok = false\n                if (o.prezzo < this.filterMin) ok = false\n                if (o.prezzo > this.filterMax) ok = false\n                if (this.categoriaSelezionata !== '' && o.categoria !== this.categoriaSelezionata) ok = false\n                return ok;\n            })\n\n            \n        }\n    },\n    computed:  mapState({\n       search: state => state.search,\n       username: state => state.username,\n       utenteLoggato: state => state.dataAuth.success,\n       cate: state => state.category,\n       annunci: state => state.annunci,\n       \n    }),\n    created() {\n    this.$categories.forEach(v => this.categories.push(v.title));\n    this.categoriaSelezionata = this.$store.state.category\n    this.priceMax = this.findMaxPrice()\n  },\n  updated() {\n    this.priceMax = this.findMaxPrice()\n    if(this.filterMin > this.filterMax) {\n        this.filterMax = this.filterMin;\n    }\n  }\n}\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
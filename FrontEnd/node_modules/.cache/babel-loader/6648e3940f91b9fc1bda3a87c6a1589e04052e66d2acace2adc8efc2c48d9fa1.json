{"ast":null,"code":"export default {\n  data() {\n    return {\n      dialog: false,\n      descrizione: '',\n      descrizioneRules: [v => v.length <= 250 || \"Descrizione troppo lunga!\"]\n    };\n  },\n  methods: {\n    async aggiornaDescrizione() {\n      try {\n        fetch(this.$url + \"api/p/updatep\", {\n          method: 'PATCH',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"x-access-token\": this.$store.state.dataAuth.token\n          },\n          body: JSON.stringify({\n            id: this.$store.state.datiUtente.username,\n            descrizioneProfilo: this.descrizione\n          })\n        }).then(console.log(\"Descrizione aggiornata per \", this.$store.state.datiUtente.nome, \"!\")).then(this.$store.state.profiloUtente.descrizioneProfilo = this.descrizione).then(this.dialog = false);\n      } catch (error) {\n        console.error(error); // If there is any error you will catch them here\n      }\n    }\n  },\n\n  mounted() {\n    this.descrizione = this.$store.state.profiloUtente.descrizioneProfilo;\n  }\n};","map":{"version":3,"mappings":"AAiEA;EACAA;IACA;MACAC;MACAC;MACAC,mBACAC;IAEA;EACA;EACAC;IACA;MACA;QACAC;UACAC;UACAC;YACA;YACA;UACA;UACAC;YACAC;YACAC;UACA;QACA;MACA;QACAC;MACA;IACA;EACA;;EACAC;IACA;EACA;AAGA","names":["data","dialog","descrizione","descrizioneRules","v","methods","fetch","method","headers","body","id","descrizioneProfilo","console","mounted"],"sourceRoot":"src/components","sources":["modificaDescrizione.vue"],"sourcesContent":["<template>\n    <v-row >\n      <v-dialog\n        v-model=\"dialog\"\n        persistent\n        max-width=\"600px\"\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            color=\"indigo\"\n            class=\"white--text\"\n            rounded\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            Modifica Descrizione\n          </v-btn>\n        </template>\n        <v-card>\n          <v-card-title>\n            <span class=\"text-h5\">Modifica descrizione:</span>\n          </v-card-title>\n          <v-card-text>\n            <v-container>\n              <v-row>\n                <v-col\n                  cols=\"12\"\n                >\n                  <v-textarea\n                    label=\"Descrizione\"\n                    v-model=\"descrizione\"\n                    :counter=\"250\" \n                    :rules=\"descrizioneRules\"\n                    no-resize\n                    filled\n                  ></v-textarea>\n                </v-col>\n            </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn\n            color=\"indigo\"\n            class=\"white--text\"\n            rounded\n\n            @click=\"aggiornaDescrizione\"\n            >\n            Aggiorna Descrizione\n        </v-btn>\n        <v-btn\n        color=\"orange\"\n        class=\"white--text\"\n        rounded\n        @click=\"dialog=false\">\n        Chiudi\n    </v-btn>\n    </v-card-actions>\n    </v-card>\n      </v-dialog>\n    </v-row>\n  </template>\n\n<script>\n\nexport default {\n    data() {\n        return {\n            dialog: false,\n            descrizione:'',\n            descrizioneRules: [\n                v => v.length <= 250 || \"Descrizione troppo lunga!\" \n            ]\n        }\n    },\n    methods: {\n        async aggiornaDescrizione() {\n            try {\n                fetch(this.$url + \"api/p/updatep\", {\n                    method: 'PATCH',\n                    headers: { \n                        \"Content-Type\": \"application/json\",\n                        \"x-access-token\": this.$store.state.dataAuth.token\n                    },\n                    body: JSON.stringify({\n                        id: this.$store.state.datiUtente.username,\n                        descrizioneProfilo: this.descrizione\n                    })\n                }).then(console.log(\"Descrizione aggiornata per \", this.$store.state.datiUtente.nome, \"!\")).then(this.$store.state.profiloUtente.descrizioneProfilo = this.descrizione).then(this.dialog = false)\n            } catch (error) {\n                console.error(error); // If there is any error you will catch them here\n            }\n        }\n    },\n    mounted() {\n        this.descrizione = this.$store.state.profiloUtente.descrizioneProfilo;\n    }\n\n\n}\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}